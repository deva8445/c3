{"ast":null,"code":"import _defineProperty from\"E:/Devashish/React/c3/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"E:/Devashish/React/c3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"E:/Devashish/React/c3/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{AuthContext}from\"../contexts/AuthContext\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Login=function Login(){//  use reqres to log user in.\nvar _useContext=useContext(AuthContext),handleAuth=_useContext.handleAuth;var navigate=useNavigate();var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(event){event.preventDefault();axios.post(\"https://reqres.in/api/register\",{username:formData.username,password:formData.password}).then(function(res){console.log(res.data.token);handleAuth(res.data.token);navigate(-1,{replace:true});}).catch(function(error){alert(\"Please Enter username as eve.holt@reqres.in and password as pistol\");console.log(error);});};console.log('formData:',formData);return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"loginform\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,name:\"username\",type:\"text\",placeholder:\"Enter username\",className:\"login_username\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,name:\"password\",type:\"text\",placeholder:\"Enter password\",className:\"login_password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"SIGN IN\",className:\"login_submit\"})]});};","map":{"version":3,"sources":["E:/Devashish/React/c3/src/components/Login.jsx"],"names":["useContext","useState","useNavigate","AuthContext","axios","Login","handleAuth","navigate","username","password","formData","setFormData","handleChange","event","target","name","value","handleSubmit","preventDefault","post","then","res","console","log","data","token","replace","catch","error","alert"],"mappings":"kUAAA,OAASA,UAAT,CAAqBC,QAArB,KAAqC,OAArC,CAEA,OAASC,WAAT,KAA4B,kBAA5B,CAEA,OAASC,WAAT,KAA4B,yBAA5B,CAEA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,MAAO,IAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CACvB;AAGA,gBAAuBL,UAAU,CAACG,WAAD,CAAjC,CAAQG,UAAR,aAAQA,UAAR,CAEA,GAAMC,CAAAA,QAAQ,CAAGL,WAAW,EAA5B,CAEA,cAAgCD,QAAQ,CAAC,CACrCO,QAAQ,CAAG,EAD0B,CAGrCC,QAAQ,CAAG,EAH0B,CAAD,CAAxC,wCAAOC,QAAP,eAAiBC,WAAjB,eAMA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAU,CAC3B,kBAAwBA,KAAK,CAACC,MAA9B,CAAQC,IAAR,eAAQA,IAAR,CAAcC,KAAd,eAAcA,KAAd,CAEAL,WAAW,gCACJD,QADI,wBAGNK,IAHM,CAGEC,KAHF,GAAX,CAKH,CARD,CAUA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACJ,KAAD,CAAU,CAC3BA,KAAK,CAACK,cAAN,GAEAd,KAAK,CAACe,IAAN,CAAW,gCAAX,CAA4C,CAExCX,QAAQ,CAAGE,QAAQ,CAACF,QAFoB,CAGxCC,QAAQ,CAAGC,QAAQ,CAACD,QAHoB,CAA5C,EAKCW,IALD,CAKM,SAASC,GAAT,CAAa,CACfC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASC,KAArB,EACAnB,UAAU,CAACe,GAAG,CAACG,IAAJ,CAASC,KAAV,CAAV,CAEAlB,QAAQ,CAAC,CAAC,CAAF,CAAK,CAACmB,OAAO,CAAG,IAAX,CAAL,CAAR,CACH,CAVD,EAWCC,KAXD,CAWO,SAASC,KAAT,CAAe,CAClBC,KAAK,CAAC,oEAAD,CAAL,CACAP,OAAO,CAACC,GAAR,CAAYK,KAAZ,EACH,CAdD,EAeH,CAlBD,CAmBAN,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBb,QAAzB,EACA,mBACE,cAAM,QAAQ,CAAEO,YAAhB,CAA8B,SAAS,CAAC,WAAxC,wBACE,cACI,QAAQ,CAAEL,YADd,CAEE,IAAI,CAAC,UAFP,CAGE,IAAI,CAAC,MAHP,CAIE,WAAW,CAAC,gBAJd,CAKE,SAAS,CAAC,gBALZ,EADF,cAQE,cACI,QAAQ,CAAEA,YADd,CAEE,IAAI,CAAC,UAFP,CAGE,IAAI,CAAC,MAHP,CAIE,WAAW,CAAC,gBAJd,CAKE,SAAS,CAAC,gBALZ,EARF,cAeE,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,SAA3B,CAAqC,SAAS,CAAC,cAA/C,EAfF,GADF,CAmBD,CA/DI","sourcesContent":["import { useContext, useState } from \"react\";\r\n\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport { AuthContext } from \"../contexts/AuthContext\";\r\n\r\nimport axios from \"axios\";\r\n\r\nexport const Login = () => {\r\n    //  use reqres to log user in.\r\n\r\n\r\n    const { handleAuth } = useContext(AuthContext);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const [formData, setFormData] = useState({\r\n        username : \"\",\r\n        \r\n        password : \"\",\r\n    })\r\n\r\n    const handleChange = (event) =>{\r\n        const { name, value } = event.target;\r\n\r\n        setFormData({\r\n            ...formData,\r\n\r\n            [name] : value,\r\n        })\r\n    }\r\n    \r\n    const handleSubmit = (event) =>{\r\n        event.preventDefault();\r\n\r\n        axios.post(\"https://reqres.in/api/register\",{\r\n\r\n            username : formData.username,\r\n            password : formData.password\r\n        })\r\n        .then(function(res){\r\n            console.log(res.data.token);\r\n            handleAuth(res.data.token);\r\n\r\n            navigate(-1, {replace : true});\r\n        })\r\n        .catch(function(error){\r\n            alert(\"Please Enter username as eve.holt@reqres.in and password as pistol\")\r\n            console.log(error);\r\n        })\r\n    }\r\n    console.log('formData:', formData)\r\n    return (\r\n      <form onSubmit={handleSubmit} className=\"loginform\">\r\n        <input\r\n            onChange={handleChange}\r\n          name=\"username\"\r\n          type=\"text\"\r\n          placeholder=\"Enter username\"\r\n          className=\"login_username\"\r\n        />\r\n        <input\r\n            onChange={handleChange}\r\n          name=\"password\"\r\n          type=\"text\"\r\n          placeholder=\"Enter password\"\r\n          className=\"login_password\"\r\n        />\r\n        <input type=\"submit\" value=\"SIGN IN\" className=\"login_submit\" />\r\n      </form>\r\n    );\r\n  };"]},"metadata":{},"sourceType":"module"}